<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IDE Web Simple</title>
    <style>
        /* Estilos CSS básicos para compatibilidad con Edge antiguo */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: table; /* Usamos display:table para un layout simple y compatible */
            width: 100%;
            height: 100vh; /* Altura completa de la ventana */
            box-sizing: border-box; /* Incluir padding y borde en el tamaño */
        }

        .container {
            display: table-row;
            height: 100%;
        }

        .editor-panel {
            display: table-cell;
            width: 33.33%; /* Dividimos el espacio para los editores */
            vertical-align: top; /* Alinear el contenido en la parte superior */
            padding: 10px;
            border-right: 1px solid #ccc;
            box-sizing: border-box;
        }

        .output-panel {
            display: table-cell;
            width: 66.66%; /* Mayor espacio para la salida */
            vertical-align: top;
            padding: 10px;
            box-sizing: border-box;
        }

        h2 {
            margin-top: 0;
            font-size: 1.2em;
            color: #333;
        }

        textarea {
            width: 100%;
            height: 300px; /* Altura fija para los editores */
            min-height: 150px;
            border: 1px solid #ddd;
            padding: 8px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 14px;
            resize: vertical; /* Permitir redimensionar verticalmente */
            background-color: #f9f9f9;
            box-sizing: border-box;
        }

        .button-group {
            text-align: center;
            padding: 10px;
            background-color: #eee;
            border-bottom: 1px solid #ccc;
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            -webkit-border-radius: 4px; /* Prefijo para Edge antiguo */
            -moz-border-radius: 4px; /* Prefijo para Edge antiguo */
        }

        button:hover {
            background-color: #0056b3;
        }

        iframe {
            width: 100%;
            height: calc(100vh - 70px); /* Ajustar la altura de la salida */
            border: 1px solid #ddd;
            background-color: #fff;
        }

        /* Estilos para navegadores más pequeños */
        @media (max-width: 768px) {
            body {
                display: block; /* Volvemos a display:block para layout en columnas */
            }
            .editor-panel, .output-panel {
                display: block;
                width: 100%;
                border-right: none;
                border-bottom: 1px solid #ccc;
            }
            iframe {
                height: 400px; /* Ajustar altura en pantallas pequeñas */
            }
        }
    </style>
</head>
<body>
    <div class="button-group">
        <button onclick="runCode()">Ejecutar Código</button>
    </div>

    <div class="container">
        <div class="editor-panel">
            <h2>HTML</h2>
            <textarea id="htmlEditor">&lt;h1&gt;¡Hola, Mundo!&lt;/h1&gt;
&lt;p&gt;Este es un párrafo de ejemplo.&lt;/p&gt;</textarea>
        </div>
        <div class="editor-panel">
            <h2>CSS</h2>
            <textarea id="cssEditor">body {
    font-family: sans-serif;
    color: #333;
}
h1 {
    color: #007bff;
}</textarea>
        </div>
        <div class="editor-panel">
            <h2>JavaScript</h2>
            <textarea id="jsEditor">document.addEventListener('DOMContentLoaded', function() {
    var h1Element = document.querySelector('h1');
    if (h1Element) {
        h1Element.innerText += ' desde JS!';
    }
});</textarea>
        </div>
        <div class="output-panel">
            <h2>Salida</h2>
            <iframe id="outputFrame"></iframe>
        </div>
    </div>

    <script>
        // Función para ejecutar el código y mostrarlo en el iframe
        function runCode() {
            var htmlCode = document.getElementById('htmlEditor').value;
            var cssCode = document.getElementById('cssEditor').value;
            var jsCode = document.getElementById('jsEditor').value;
            var outputFrame = document.getElementById('outputFrame');

            // Acceder al documento dentro del iframe
            var iframeDoc = outputFrame.contentDocument || outputFrame.contentWindow.document;

            // Escribir el contenido en el iframe
            iframeDoc.open();
            iframeDoc.write(
                '<!DOCTYPE html>' +
                '<html>' +
                '<head>' +
                '<style>' + cssCode + '</style>' +
                '</head>' +
                '<body>' +
                htmlCode +
                '<script>' + jsCode + '<\/script>' +
                '</body>' +
                '</html>' // Se escapea el script para que no cierre la etiqueta
            );
            iframeDoc.close();
        }

        // Ejecutar el código inicial al cargar la página
        runCode();
    </script>
</body>
</html>